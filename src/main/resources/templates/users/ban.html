<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/import :: import(title='封禁用户', headContent=~{::#pageHead})}">
    <th:block id="pageHead">

    </th:block>
</head>
<body>
<div th:replace="~{fragments/header :: header(${user})}"></div>

<main class="container my-5">
    <div class="card border-danger">
        <div class="card-header bg-danger text-white">
            <h4 class="mb-0"><i class="fas fa-user-slash mr-2"></i>封禁用户</h4>
        </div>
        <div class="card-body">
            <!-- 用户基本信息 -->
            <div class="alert alert-warning">
                <h5 class="alert-heading">即将封禁以下用户：</h5>
                <hr>
                <dl class="row mb-0">
                    <dt class="col-sm-3">用户名</dt>
                    <dd class="col-sm-9">
                        <span th:style="'color: ' + ${userToBan.primaryPermissionGroup.color}"
                              th:text="${userToBan.name}"></span>
                    </dd>

                    <dt class="col-sm-3">用户 ID</dt>
                    <dd class="col-sm-9" th:text="${userToBan.id}"></dd>

                    <dt class="col-sm-3">权限组</dt>
                    <dd class="col-sm-9"
                        th:style="'color: ' + ${userToBan.primaryPermissionGroup.color}"
                        th:text="${userToBan.primaryPermissionGroup.name}"></dd>
                </dl>
            </div>

            <!-- 封禁表单 -->
            <form th:action="@{/users/{id}/ban(id=${userToBan.id})}" method="post">
                <div class="form-group">
                    <label for="banReason" class="font-weight-bold">封禁理由</label>
                    <textarea class="form-control" id="banReason" name="reason"
                              rows="4" required
                              placeholder="请输入详细的封禁理由..."></textarea>
                </div>
                <div class="d-flex justify-content-between align-items-center mt-4">
                    <a th:href="@{/users/profile/{id}(id=${userToBan.id})}" class="btn btn-secondary">
                        <i class="fas fa-times-circle mr-2"></i>取消返回
                    </a>
                    <button type="submit" class="btn btn-danger">
                        <i class="fas fa-user-slash mr-2"></i>确认封禁
                    </button>
                </div>
            </form>
        </div>
    </div>
</main>

</body>
</html>